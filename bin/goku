#!/usr/bin/env ruby     
require "fileutils"
KIT = "devkit"
DP="dev-packages"
CUR_WD = FileUtils.pwd

repo_paths = []

Dir.foreach DP do |dpkg|
  next if dpkg =~ /^\.\.?$/
  repo_paths << File.expand_path(DP+"/"+dpkg)
end
repo_paths << File.expand_path("~/.kit")

repo_paths.map { |p| 
  Thread.new(p) do |path|
    `cd #{path} && git pull` 
  end
}.each {|t| t.join }


FileUtils.cd CUR_WD

`#{KIT}`
